<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Gestão de Apostas</title>
    <style>
        body {font-family: "Times New Roman", serif; background-color: #07251F; color: #EAF9E1; margin: 10px; padding: 10px;}
        h2 {text-align: center; color: #d4af37; margin-bottom: 20px;}
        /* Estilos para o novo menu de gestão */
        #menu-gestao {display: flex; justify-content: center; gap: 8px; margin-bottom: 25px; flex-wrap: wrap;}
        #menu-gestao button {
            background-color: #103a2f; 
            color: #EAF9E1; 
            border: 1px solid #d4af37; 
            margin-top: 0;
            padding: 8px 12px; /* Ajuste no padding */
            font-size: 14px; /* Ajuste no tamanho da fonte */
        }
        #menu-gestao button.active {
            background-color: #d4af37; 
            color: #07251F;
        }

        label, input, select, button, .resultado {font-family: "Times New Roman", serif; display: block; width: 100%; max-width: 100%; margin: 8px 0; padding: 10px; border-radius: 12px; box-sizing: border-box; font-size: 16px;}
        input, select {background-color: #EAF9E1; color: #07251F; border: 1px solid #07251F;}
        button {background-color: #d4af37; color: #07251F; border: none; font-weight: bold; cursor: pointer; width: auto; display: inline-block; margin-right: 10px; margin-top: 15px;}
        button:hover {opacity: 0.9;}
        .resultado {background-color: #103a2f; color: #EAF9E1; display: none; white-space: pre-wrap; padding: 15px; border: 1px solid #d4af37; margin-top: 10px; line-height: 1.6;}
        .botoes-container {display: flex; gap: 10px; margin-top: 10px; margin-bottom: 10px; flex-wrap: wrap;}
        
        /* Cada calculadora de gestão estará em um fieldset dentro de um container */
        .calculadora-gestao-item {
            border: 1px solid #2a5a4a; 
            border-radius: 8px; 
            padding: 15px; 
            margin-top: 0px; /* Removido margin-top do fieldset e colocado no container */
            margin-bottom: 25px;
            display: none; /* Começam escondidas */
        }
        .calculadora-gestao-item legend { /* Estilo da legenda do fieldset */
            padding: 0 10px; 
            font-weight: bold; 
            color: #FFFFFF; 
            font-size: 1.1em;
            text-align: center; /* Centraliza a legenda */
            width: 100%; /* Faz a legenda ocupar a largura para centralizar */
            margin-bottom: 10px;
        }
        .dutch-grid {display: grid; grid-template-columns: 1fr 1fr; gap: 15px;}
        @media (max-width: 600px) {
            .dutch-grid {grid-template-columns: 1fr;}
            #menu-gestao button {font-size: 13px; padding: 6px 10px;}
        }
    </style>
</head>
<body>
    <h2>Calculadoras de Gestão de Apostas</h2>

    <div id="menu-gestao">
        <button onclick="showManagementCalculator('kelly')" class="active">Critério de Kelly</button>
        <button onclick="showManagementCalculator('hedge')">Cobertura (Hedge)</button>
        <button onclick="showManagementCalculator('dutching_total')">Dutching (Total)</button>
        <button onclick="showManagementCalculator('dutching_prob')">Dutching (Otimizado)</button>
        <button onclick="showManagementCalculator('dutching_valores')">Dutching (Valores)</button>
    </div>

    <div id="container-kelly" class="calculadora-gestao-item">
        <fieldset>
            <legend>Calculadora de Unidade (Critério de Kelly)</legend>
            <label for="kelly_banca">Valor Total da Banca (R$)</label><input type="text" id="kelly_banca"/>
            <label for="kelly_odd">Odd</label><input type="text" id="kelly_odd"/>
            <label for="kelly_prob">Probabilidade Estimada (%)</label><input type="text" id="kelly_prob"/>
            <label for="kelly_fator">Fator de Risco (Kelly Fracionado)</label>
            <select id="kelly_fator">
                <option value="1">Full Kelly (100% - Risco Máximo)</option>
                <option value="0.75">Three-Quarter Kelly (75%)</option>
                <option value="0.5" selected>Half Kelly (50% - Recomendado)</option>
                <option value="0.33">Third Kelly (33%)</option>
                <option value="0.25">Quarter Kelly (25% - Conservador)</option>
                <option value="0.1">Tenth Kelly (10% - Muito Conservador)</option>
            </select>
            <button onclick="calcularKelly()">Calcular Unidade</button>
            <div class="resultado" id="resultado_kelly"></div>
        </fieldset>
    </div>

    <div id="container-hedge" class="calculadora-gestao-item">
        <fieldset>
            <legend>Calculadora de Cobertura (Hedge)</legend>
            <label for="hedge_valor1">Valor da 1ª Aposta (Principal)</label><input type="text" id="hedge_valor1"/>
            <label for="hedge_odd1">Odd da 1ª Aposta</label><input type="text" id="hedge_odd1"/>
            <label for="hedge_odd2">Odd da 2ª Aposta (Cobertura)</label><input type="text" id="hedge_odd2"/>
            <label for="hedge_valor2">Valor da 2ª Aposta (Cobertura) (Opcional)</label><input type="text" id="hedge_valor2"/>
            <div class="botoes-container">
                <button onclick="calcularHedge(false)">Calcular Cobertura</button>
                <button onclick="fecharPosicao()">Fechar Posição (Garantir Mesmo Resultado)</button>
            </div>
            <div class="resultado" id="resultado_hedge"></div>
        </fieldset>
    </div>

    <div id="container-dutching_total" class="calculadora-gestao-item">
        <fieldset>
            <legend>Calculadora de Dutching (Por Valor Total a Apostar)</legend>
            <label for="dutch_total_valor">Valor Total a ser Distribuído nas Apostas</label><input type="text" id="dutch_total_valor"/>
            <p style="font-size:0.9em; margin-top:-5px;">Insira as odds das seleções em que deseja apostar para obter o mesmo lucro em qualquer uma delas.</p>
            <div class="dutch-grid">
                <div><label>1ª Odd</label><input type="text" id="dutch_total_odd1" /></div>
                <div><label>2ª Odd</label><input type="text" id="dutch_total_odd2" /></div>
                <div><label>3ª Odd (Opcional)</label><input type="text" id="dutch_total_odd3" /></div>
                <div><label>4ª Odd (Opcional)</label><input type="text" id="dutch_total_odd4" /></div>
            </div>
            <button onclick="calcularDutchingPorTotal()">Calcular Dutching por Total</button>
            <div class="resultado" id="resultado_dutching_total"></div>
        </fieldset>
    </div>
    
    <div id="container-dutching_prob" class="calculadora-gestao-item">
        <fieldset>
            <legend>Calculadora de Dutching (Otimizado por Probabilidade)</legend>
            <label for="dutch_prob_total_valor">Valor Total a ser Distribuído nas Apostas</label><input type="text" id="dutch_prob_total_valor"/>
            <p style="font-size:0.9em; margin-top:-5px;">Insira as odds e suas probabilidades estimadas para cada seleção.</p>
            <div class="dutch-grid">
                <div><label>1ª Odd</label><input type="text" id="dutch_prob_odd_1"/></div>
                <div><label>Probabilidade 1 (%)</label><input type="text" id="dutch_prob_chance_1"/></div>
                <div><label>2ª Odd</label><input type="text" id="dutch_prob_odd_2"/></div>
                <div><label>Probabilidade 2 (%)</label><input type="text" id="dutch_prob_chance_2"/></div>
                <div><label>3ª Odd (Opcional)</label><input type="text" id="dutch_prob_odd_3"/></div>
                <div><label>Probabilidade 3 (%)</label><input type="text" id="dutch_prob_chance_3"/></div>
                <div><label>4ª Odd (Opcional)</label><input type="text" id="dutch_prob_odd_4"/></div>
                <div><label>Probabilidade 4 (%)</label><input type="text" id="dutch_prob_chance_4"/></div>
            </div>
            <button onclick="calcularDutchingOtimizado()">Calcular Dutching Otimizado</button>
            <div class="resultado" id="resultado_dutching_otimizado"></div>
        </fieldset>
    </div>

    <div id="container-dutching_valores" class="calculadora-gestao-item">
        <fieldset>
            <legend>Calculadora de Dutching (Por Valores Individuais de Aposta)</legend>
            <p style="font-size:0.9em; margin-top:-5px;">Insira o valor que você quer apostar em cada odd e veja os resultados possíveis.</p>
             <div class="dutch-grid">
                <div><label>Valor da 1ª Aposta</label><input type="text" id="dutch_val_1"/><label>1ª Odd</label><input type="text" id="dutch_odd_1"/></div>
                <div><label>Valor da 2ª Aposta</label><input type="text" id="dutch_val_2"/><label>2ª Odd</label><input type="text" id="dutch_odd_2"/></div>
                <div><label>Valor da 3ª Aposta (Opcional)</label><input type="text" id="dutch_val_3"/><label>3ª Odd</label><input type="text" id="dutch_odd_3"/></div>
                <div><label>Valor da 4ª Aposta (Opcional)</label><input type="text" id="dutch_val_4"/><label>4ª Odd</label><input type="text" id="dutch_odd_4"/></div>
                <div><label>Valor da 5ª Aposta (Opcional)</label><input type="text" id="dutch_val_5"/><label>5ª Odd</label><input type="text" id="dutch_odd_5"/></div>
                <div><label>Valor da 6ª Aposta (Opcional)</label><input type="text" id="dutch_val_6"/><label>6ª Odd</label><input type="text" id="dutch_odd_6"/></div>
             </div>
            <button onclick="calcularDutchingPorValores()">Analisar Apostas Individuais</button>
            <div class="resultado" id="resultado_dutching_valores"></div>
        </fieldset>
    </div>

<script>
'use strict';
// Funções auxiliares SÓ para a calculadora de gestão
const parseInput = (id) => { 
    const el = document.getElementById(id); 
    if (!el || el.value.trim() === '') return NaN; 
    return parseFloat(String(el.value).replace(',', '.')); 
};
const formatOutput = (n, dec = 2) => { 
    if (isNaN(n) || n === null) return 'N/A'; 
    return n.toFixed(dec).replace('.', ','); 
};

// Função para mostrar a calculadora de gestão correta
function showManagementCalculator(calculatorId) {
    document.querySelectorAll('.calculadora-gestao-item').forEach(container => {
        container.style.display = 'none';
    });
    document.querySelectorAll('#menu-gestao button').forEach(button => {
        button.classList.remove('active');
    });
    const containerToShow = document.getElementById(`container-${calculatorId}`);
    if (containerToShow) {
        containerToShow.style.display = 'block';
    }
    const buttonToActivate = document.querySelector(`#menu-gestao button[onclick="showManagementCalculator('${calculatorId}')"]`);
    if (buttonToActivate) {
        buttonToActivate.classList.add('active');
    }
}


// Funções de cálculo da Calculadora de Gestão
function calcularKelly() {
    const banca = parseInput('kelly_banca');
    const odd = parseInput('kelly_odd');
    const probPercent = parseInput('kelly_prob');
    const fatorKelly = parseInput('kelly_fator'); 
    const rd = document.getElementById('resultado_kelly');

    if (isNaN(banca) || isNaN(odd) || isNaN(probPercent) || isNaN(fatorKelly) || odd <= 1 || probPercent < 0 || probPercent > 100 || banca <= 0) { 
        rd.innerText = 'ERRO: Preencha todos os campos com valores válidos (Odd > 1, Prob. 0-100%, Banca > 0).'; 
        rd.style.display = 'block'; 
        return;
    }
    const prob = probPercent / 100; 
    const ev = (odd * prob) - 1; 

    if (prob === 0 || ev <= 0) { 
        rd.innerText = `--- APOSTA SEM VALOR (EV ≤ 0 ou Prob. = 0) ---\n\nO Valor Esperado é de ${formatOutput(ev*100)}%.\n\nNão é recomendado apostar.`;
        rd.style.display = 'block'; return;
    }
    
    const bDecimal = odd - 1; 
    if (bDecimal === 0) { 
        rd.innerText = 'ERRO: Odd inválida para cálculo de Kelly (Odd - 1 = 0).';
        rd.style.display = 'block'; return;
    }
    const kellyFraction = (prob * bDecimal - (1 - prob)) / bDecimal;

    if (kellyFraction <= 0) { 
         rd.innerText = `--- APOSTA SEM VALOR (KELLY ≤ 0) ---\n\nFração Kelly: ${formatOutput(kellyFraction * 100, 2)}%\nO Valor Esperado é de ${formatOutput(ev*100)}%.\n\nCritério de Kelly sugere não apostar.`;
        rd.style.display = 'block'; return;
    }
    const stakeFraction = kellyFraction * fatorKelly;
    const valorUnidade = banca * stakeFraction;

    let texto = `--- CÁLCULO DE UNIDADE (KELLY) ---\n\n`;
    texto += `Fração da Banca (Full Kelly): ${formatOutput(kellyFraction * 100, 2)}%\n`;
    texto += `Fração com Fator de Risco (${(fatorKelly*100).toFixed(0)}% Kelly): ${formatOutput(stakeFraction * 100, 2)}%\n\n`;
    texto += `Unidade/Stake Recomendada: R$ ${formatOutput(valorUnidade)}\n`;
    texto += `Lucro Potencial (com esta stake): R$ ${formatOutput(valorUnidade * (odd - 1))}`;
    rd.innerText = texto; rd.style.display = 'block';
}

function calcularHedge(isFechamento = false) {
    const valor1 = parseInput('hedge_valor1');
    const odd1 = parseInput('hedge_odd1');
    const odd2 = parseInput('hedge_odd2');
    let valor2Manual = parseInput('hedge_valor2');
    const rd = document.getElementById('resultado_hedge');

    if (isNaN(valor1) || valor1 <= 0 || isNaN(odd1) || odd1 <= 1 || isNaN(odd2) || odd2 <= 1 ) {
        rd.innerText = 'ERRO: Preencha valor da 1ª aposta (>0) e as duas odds (>1).'; 
        rd.style.display = 'block'; 
        return;
    }

    let valor2;
    let tituloSecao;

    if (isFechamento) {
        tituloSecao = "--- FECHAMENTO DE POSIÇÃO (MESMO RESULTADO FINANCEIRO) ---";
        valor2 = (valor1 * odd1) / odd2; 
        const valor2El = document.getElementById('hedge_valor2');
        if (valor2El) valor2El.value = formatOutput(valor2);
    } else {
        tituloSecao = "--- CÁLCULO DE COBERTURA (HEDGE) ---";
        if (!isNaN(valor2Manual) && valor2Manual >= 0) {
            valor2 = valor2Manual;
        } else {
             // Default: Calcula valor2 para ter o mesmo retorno bruto em ambos os casos
             // Isso é o mesmo que "Fechar Posição", mas pode ser um ponto de partida
             valor2 = (valor1 * odd1) / odd2;
             // Se quiser que o campo não seja preenchido automaticamente no modo hedge padrão:
             // document.getElementById('hedge_valor2').value = ''; // ou deixe como está
             // Para este exemplo, vou preencher com o valor que daria o mesmo retorno.
             const valor2El = document.getElementById('hedge_valor2');
             if (valor2El) valor2El.value = formatOutput(valor2); 
        }
    }
    if (isNaN(valor2) || valor2 < 0) valor2 = 0; 

    const totalInvestido = valor1 + valor2;
    const retornoSeOdd1Vencer = valor1 * odd1;
    const retornoSeOdd2Vencer = valor2 * odd2;
    const lucroSeOdd1Vencer = retornoSeOdd1Vencer - totalInvestido;
    const lucroSeOdd2Vencer = retornoSeOdd2Vencer - totalInvestido;
    
    const oddEfetiva1 = totalInvestido > 0 ? retornoSeOdd1Vencer / totalInvestido : 0;
    const oddEfetiva2 = totalInvestido > 0 ? retornoSeOdd2Vencer / totalInvestido : 0;

    let texto = `${tituloSecao}\n\n`;
    texto += `Aposta 1: R$ ${formatOutput(valor1)} @ ${formatOutput(odd1)}\n`;
    texto += `  ↳ Retorno se vencer: R$ ${formatOutput(retornoSeOdd1Vencer)}\n`;
    texto += `  ↳ Lucro/Prejuízo: R$ ${formatOutput(lucroSeOdd1Vencer)}\n`;
    if (totalInvestido > 0 && !isFechamento && oddEfetiva1 > 0) texto += `  ↳ Odd Efetiva (se Aposta 1 vencer): ${formatOutput(oddEfetiva1)}\n`;
    texto += `\n`;

    texto += `Aposta 2 (Cobertura): R$ ${formatOutput(valor2)} @ ${formatOutput(odd2)}\n`;
    texto += `  ↳ Retorno se vencer: R$ ${formatOutput(retornoSeOdd2Vencer)}\n`;
    texto += `  ↳ Lucro/Prejuízo: R$ ${formatOutput(lucroSeOdd2Vencer)}\n`;
    if (totalInvestido > 0 && !isFechamento && oddEfetiva2 > 0) texto += `  ↳ Odd Efetiva (se Aposta 2 vencer): ${formatOutput(oddEfetiva2)}\n`;
    texto += `\n`;
    
    texto += `Total Investido: R$ ${formatOutput(totalInvestido)}\n`;

    if (isFechamento) {
        texto += `Resultado Financeiro Garantido (Lucro/Prejuízo): R$ ${formatOutput(lucroSeOdd1Vencer)}\n`;
        if (totalInvestido > 0 && oddEfetiva1 > 0) texto += `Odd Efetiva da Operação Total: ${formatOutput(oddEfetiva1)}\n`;
    } else {
         if (lucroSeOdd1Vencer < 0 && lucroSeOdd2Vencer < 0) {
            texto += `\nAVISO: Ambas as configurações resultam em prejuízo.`;
        } else if (Math.abs(lucroSeOdd1Vencer - lucroSeOdd2Vencer) > 0.01 && isNaN(valor2Manual) && valor2 > 0) {
            texto += `\nNota: Lucros diferentes. Para garantir o mesmo resultado financeiro, use "Fechar Posição" ou ajuste manualmente o valor da 2ª Aposta.`;
        }
    }
    rd.innerText = texto; rd.style.display = 'block';
}

function fecharPosicao() {
    calcularHedge(true);
}

function calcularDutchingPorTotal() {
    // ... (código como na última versão) ...
    const total = parseInput('dutch_total_valor');
    const rd = document.getElementById('resultado_dutching_total');
    const odds = [];
    for(let i = 1; i <= 4; i++) {
        const oddInput = parseInput(`dutch_total_odd${i}`);
        if(!isNaN(oddInput) && oddInput > 1) odds.push(oddInput);
    }
    if (isNaN(total) || total <= 0 || odds.length === 0) {
        rd.innerText = 'ERRO: Preencha valor total (>0) e ao menos uma odd válida (>1).'; rd.style.display = 'block'; return;
    }
    const somaInversa = odds.reduce((acc, o) => acc + (1 / o), 0);
    if (somaInversa === 0) { 
         rd.innerText = 'ERRO: Soma das inversas das odds é zero. Verifique as odds.'; rd.style.display = 'block'; return;
    }
    const apostas = odds.map(o => (total * (1 / o)) / somaInversa);
    const retornoPotencial = odds.length > 0 ? apostas[0] * odds[0] : 0; 
    const lucro = retornoPotencial - total; 
    const arbitragemPercent = somaInversa < 1 ? (1/somaInversa - 1)*100 : 0;
    const oddEfetiva = total > 0 ? retornoPotencial / total : 0;

    let texto = `--- RESULTADO DO DUTCHING POR VALOR TOTAL ---\n\n`;
    texto += apostas.map((v, i) => {
        return `Aposta na Odd ${formatOutput(odds[i])}: R$ ${formatOutput(v)}`;
    }).join('\n');
    texto += `\n\nTotal Apostado: R$ ${formatOutput(total)}\n`;
    texto += `Retorno Potencial (se uma das seleções vencer): R$ ${formatOutput(retornoPotencial)}\n`;
    texto += `Lucro (se uma das seleções vencer): R$ ${formatOutput(lucro)}\n`;
    texto += `Odd Efetiva: ${formatOutput(oddEfetiva)}\n\n`;
    texto += `Possibilidade de Arbitragem (Lucro Garantido): ${somaInversa < 1 ? '✅ Sim (' + formatOutput(arbitragemPercent) + '%)' : '❌ Não'}`;
    rd.innerText = texto; rd.style.display = 'block';
}

function calcularDutchingOtimizado() {
    // ... (código como na última versão) ...
    const totalStake = parseInput('dutch_prob_total_valor');
    const rd = document.getElementById('resultado_dutching_otimizado');
    const selections = [];
    for (let i = 1; i <= 4; i++) {
        const odd = parseInput(`dutch_prob_odd_${i}`);
        const chance = parseInput(`dutch_prob_chance_${i}`);
        if (!isNaN(odd) && odd > 1 && !isNaN(chance) && chance >= 0 && chance <= 100) { 
            selections.push({ odd: odd, chance: chance / 100 }); 
        }
    }
    if (isNaN(totalStake) || totalStake <= 0 || selections.length === 0) {
        rd.innerText = 'ERRO: Preencha Valor Total (>0) e ao menos uma Seleção (Odd >1 e Chance 0-100%).'; rd.style.display = 'block'; return;
    }
    const sumInvOdds = selections.reduce((acc, s) => acc + (1 / s.odd), 0);
    if (sumInvOdds === 0) {
         rd.innerText = 'ERRO: Odds inválidas nas seleções.'; rd.style.display = 'block'; return;
    }
    let texto = `--- DUTCHING OTIMIZADO POR PROBABILIDADE ---\n\n`;
    texto += `--- ALOCAÇÃO DAS STAKES (PARA MESMO LUCRO) & EV INDIVIDUAL ---\n\n`;
    let combinedProbOfWinningDutch = 0;
    selections.forEach((s, i) => {
        s.stake = (totalStake * (1 / s.odd)) / sumInvOdds; 
        s.ev = (s.odd * s.chance) - 1; 
        combinedProbOfWinningDutch += s.chance; 
        texto += `Seleção ${i + 1} (Odd ${formatOutput(s.odd)}, Sua Chance ${formatOutput(s.chance * 100, 1)}%):\n`;
        texto += `  - Stake: R$ ${formatOutput(s.stake)}\n  - EV Individual: ${formatOutput(s.ev * 100, 1)}%\n\n`;
    });
    const expectedReturnIfWin = selections.length > 0 ? selections[0].stake * selections[0].odd : 0; 
    const profitIfWin = expectedReturnIfWin - totalStake;
    const effectiveOddDutch = selections.length > 0 && totalStake > 0 ? expectedReturnIfWin / totalStake : 0;
    const evDutch = selections.length > 0 ? (effectiveOddDutch * combinedProbOfWinningDutch) - 1 : 0; 
    const arbitragemPercent = sumInvOdds < 1 ? (1/sumInvOdds - 1)*100 : 0;
    texto += `--- RESULTADOS GERAIS DO DUTCHING ---\n\n`;
    texto += `Total Apostado: R$ ${formatOutput(totalStake)}\n`;
    texto += `Retorno Potencial (se uma das seleções vencer): R$ ${formatOutput(expectedReturnIfWin)}\n`;
    texto += `Lucro (se uma das seleções vencer): R$ ${formatOutput(profitIfWin)}\n`;
    texto += `Odd Efetiva do Dutching: ${formatOutput(effectiveOddDutch)}\n\n`;
    texto += `Probabilidade Combinada de Vencer (Sua Estimativa): ${formatOutput(combinedProbOfWinningDutch * 100, 1)}%\n`;
    texto += `Valor Esperado (EV) do Dutching Completo (Baseado na sua Prob.): ${formatOutput(evDutch * 100, 1)}%\n\n`;
    texto += `Possibilidade de Arbitragem (Lucro Garantido): ${sumInvOdds < 1 ? '✅ Sim (' + formatOutput(arbitragemPercent) + '%)' : '❌ Não'}`;
    rd.innerText = texto; rd.style.display = 'block';
}

function calcularDutchingPorValores() {
    // ... (código como na última versão) ...
    const rd = document.getElementById('resultado_dutching_valores');
    const apostas = [];
    const odds = [];
    let totalInvestido = 0;
    for (let i = 1; i <= 6; i++) {
        const valorAposta = parseInput(`dutch_val_${i}`);
        const oddAposta = parseInput(`dutch_odd_${i}`);
        if (!isNaN(valorAposta) && valorAposta > 0 && !isNaN(oddAposta) && oddAposta > 1) {
            apostas.push(valorAposta); 
            odds.push(oddAposta); 
            totalInvestido += valorAposta;
        }
    }
    if (apostas.length === 0) {
        rd.innerText = 'ERRO: Preencha ao menos um par de aposta (>0) e odd (>1) válidas.'; 
        rd.style.display = 'block'; return;
    }
    let texto = `--- ANÁLISE DOS RESULTADOS POR VALORES INDIVIDUAIS ---\n\n`;
    texto += `Total Investido: R$ ${formatOutput(totalInvestido)}\n\n`;
    apostas.forEach((valor, i) => {
        const retorno = valor * odds[i];
        const lucro = retorno - totalInvestido;
        const oddEfetiva = totalInvestido > 0 ? retorno / totalInvestido : 0;
        texto += `Se Aposta ${i + 1} (R$ ${formatOutput(valor)} @ ${formatOutput(odds[i])}) vencer:\n`;
        texto += `  - Retorno: R$ ${formatOutput(retorno)}\n`;
        texto += `  - Lucro: R$ ${formatOutput(lucro)}\n`;
        texto += `  - Odd Efetiva sobre o total: ${formatOutput(oddEfetiva)}\n\n`;
    });
    rd.innerText = texto.trim(); 
    rd.style.display = 'block';
}

// Inicialização da página para mostrar a primeira calculadora de gestão
document.addEventListener('DOMContentLoaded', () => {
    showManagementCalculator('kelly'); // Mostra Kelly por padrão
});

</script>
</body>
</html>
